<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2821px" preserveAspectRatio="none" style="width:1106px;height:2821px;background:#FFFFFF;" version="1.1" viewBox="0 0 1106 2821" width="1106px" zoomAndPan="magnify"><defs><filter height="1" id="bbc6j61gvbhyn0" width="1" x="0" y="0"><feFlood flood-color="#FF0000" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="bbc6j61gvbhyn1" width="1" x="0" y="0"><feFlood flood-color="#000000" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="bbc6j61gvbhyn2" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="348" x="375.25" y="27.9951">VCMI-1.3.2 connector-v2 reset (end-battle)</text><rect fill="#DDDDDD" height="2772.375" style="stroke:#FFFFFF;stroke-width:0.5;" width="289.5" x="84" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="218.75" y="55.3638">T1</text><rect fill="#DDDDDD" height="2772.375" style="stroke:#FFFFFF;stroke-width:0.5;" width="723" x="375.5" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="727" y="55.3638">T2</text><rect fill="#FFFFFF" height="266.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="103" y="120.0234"/><rect fill="#FFFFFF" height="1042.6484" style="stroke:#181818;stroke-width:1.0;" width="10" x="103" y="458.4844"/><rect fill="#FFFFFF" height="1087.4141" style="stroke:#181818;stroke-width:1.0;" width="10" x="103" y="1616.5313"/><rect fill="#FFFFFF" height="237.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="184.5" y="120.0234"/><rect fill="#FFFFFF" height="969.25" style="stroke:#181818;stroke-width:1.0;" width="10" x="184.5" y="487.6172"/><rect fill="#FFFFFF" height="1029.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="184.5" y="1645.6641"/><rect fill="#FFFFFF" height="207.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="308.5" y="120.0234"/><rect fill="#FF0000" height="150.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="313.5" y="141.1563"/><rect fill="#FFFFFF" height="910.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="308.5" y="516.75"/><rect fill="#FF0000" height="680.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="313.5" y="711.5469"/><rect fill="#FFFFFF" height="970.8828" style="stroke:#181818;stroke-width:1.0;" width="10" x="308.5" y="1674.7969"/><rect fill="#FF0000" height="739.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="313.5" y="1869.5938"/><rect fill="#FFFFFF" height="588.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="430.5" y="199.4219"/><rect fill="#FF0000" height="499.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="435.5" y="251.6875"/><rect fill="#FFFFFF" height="804.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="430.5" y="1156.6719"/><rect fill="#FF0000" height="558.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="435.5" y="1351.4688"/><rect fill="#FFFFFF" height="381.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="430.5" y="2374.6172"/><rect fill="#FF0000" height="186.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="435.5" y="2569.4141"/><rect fill="#FFFFFF" height="646.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="170.2891"/><rect fill="#FFFFFF" height="1209.4453" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="875.2109"/><rect fill="#FFFFFF" height="148.4297" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="2138.7891"/><rect fill="#FFFFFF" height="410.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="2345.4844"/><rect fill="#FFFFFF" height="704.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="827.5" y="141.1563"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="944" y="2234.2188"/><rect fill="#FFFFFF" height="439.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="944" y="2316.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="108" x2="108" y1="110.0234" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="189" x2="189" y1="110.0234" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="313.5" x2="313.5" y1="110.0234" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="435.5" x2="435.5" y1="110.0234" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="644.5" x2="644.5" y1="110.0234" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="832.5" x2="832.5" y1="110.0234" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="948.5" x2="948.5" y1="2202.4375" y2="2765.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1046.5" x2="1046.5" y1="110.0234" y2="2765.0781"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40" x="88" y="78.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="26" x="95" y="98.7217">Env</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40" x="88" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="26" x="95" y="2784.0732">Env</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="138" y="78.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="145" y="98.7217">pyconnector</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="138" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="145" y="2784.0732">pyconnector</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="257.5" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="264.5" y="82.4248">cppconnector</text><text fill="#808080" font-family="Arial" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="32" x="297.5" y="98.7217">// T1</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="257.5" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="264.5" y="2784.0732">cppconnector</text><text fill="#808080" font-family="Arial" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="32" x="297.5" y="2800.3701">// T1</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="379.5" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="386.5" y="82.4248">cppconnector</text><text fill="#808080" font-family="Arial" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="32" x="419.5" y="98.7217">// T2</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="379.5" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="386.5" y="2784.0732">cppconnector</text><text fill="#808080" font-family="Arial" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="32" x="419.5" y="2800.3701">// T2</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="547.5" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="626.5" y="82.4248">VCMI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="180" x="554.5" y="98.7217">Adventure Interface (AAI)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="547.5" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="626.5" y="2784.0732">VCMI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="180" x="554.5" y="2800.3701">Adventure Interface (AAI)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="751.5" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="814.5" y="82.4248">VCMI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="148" x="758.5" y="98.7217">Battle Interface (BAI)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="751.5" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="814.5" y="2784.0732">VCMI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="148" x="758.5" y="2800.3701">Battle Interface (BAI)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="923.5" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="37" x="930.5" y="2784.0732">BAI 2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="999.5" y="78.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="1006.5" y="98.7217">VCMI Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="999.5" y="2764.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="1006.5" y="2784.0732">VCMI Client</text><rect fill="#FFFFFF" height="266.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="103" y="120.0234"/><rect fill="#FFFFFF" height="1042.6484" style="stroke:#181818;stroke-width:1.0;" width="10" x="103" y="458.4844"/><rect fill="#FFFFFF" height="1087.4141" style="stroke:#181818;stroke-width:1.0;" width="10" x="103" y="1616.5313"/><rect fill="#FFFFFF" height="237.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="184.5" y="120.0234"/><rect fill="#FFFFFF" height="969.25" style="stroke:#181818;stroke-width:1.0;" width="10" x="184.5" y="487.6172"/><rect fill="#FFFFFF" height="1029.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="184.5" y="1645.6641"/><rect fill="#FFFFFF" height="207.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="308.5" y="120.0234"/><rect fill="#FF0000" height="150.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="313.5" y="141.1563"/><rect fill="#FFFFFF" height="910.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="308.5" y="516.75"/><rect fill="#FF0000" height="680.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="313.5" y="711.5469"/><rect fill="#FFFFFF" height="970.8828" style="stroke:#181818;stroke-width:1.0;" width="10" x="308.5" y="1674.7969"/><rect fill="#FF0000" height="739.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="313.5" y="1869.5938"/><rect fill="#FFFFFF" height="588.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="430.5" y="199.4219"/><rect fill="#FF0000" height="499.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="435.5" y="251.6875"/><rect fill="#FFFFFF" height="804.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="430.5" y="1156.6719"/><rect fill="#FF0000" height="558.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="435.5" y="1351.4688"/><rect fill="#FFFFFF" height="381.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="430.5" y="2374.6172"/><rect fill="#FF0000" height="186.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="435.5" y="2569.4141"/><rect fill="#FFFFFF" height="646.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="170.2891"/><rect fill="#FFFFFF" height="1209.4453" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="875.2109"/><rect fill="#FFFFFF" height="148.4297" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="2138.7891"/><rect fill="#FFFFFF" height="410.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="639.5" y="2345.4844"/><rect fill="#FFFFFF" height="704.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="827.5" y="141.1563"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="944" y="2234.2188"/><rect fill="#FFFFFF" height="439.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="944" y="2316.3516"/><polygon fill="#181818" points="848.5,137.1563,838.5,141.1563,848.5,145.1563,844.5,141.1563" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="1046.5" cy="140.4063" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;" x1="842.5" x2="1042" y1="141.1563" y2="141.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="854.5" y="136.0903">activeStack</text><polygon fill="#181818" points="660.5,166.2891,650.5,170.2891,660.5,174.2891,656.5,170.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="654.5" x2="826.5" y1="170.2891" y2="170.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="666.5" y="165.2231">getAction(Result)</text><polygon fill="#181818" points="451.5,195.4219,441.5,199.4219,451.5,203.4219,447.5,199.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445.5" x2="638.5" y1="199.4219" y2="199.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="457.5" y="194.356">baggage.GetAction(Result)</text><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="487.5" y1="238.6875" y2="238.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="487.5" y1="238.6875" y2="251.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.5" x2="487.5" y1="251.6875" y2="251.6875"/><polygon fill="#181818" points="456.5,247.6875,446.5,251.6875,456.5,255.6875,452.5,251.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn0)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="452.5" y="218.4888">cond.wait</text><text fill="#FFFF00" filter="url(#bbc6j61gvbhyn1)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="233.6216">release lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="323.5" x2="365.5" y1="290.8203" y2="290.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="365.5" x2="365.5" y1="290.8203" y2="303.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="365.5" y1="303.8203" y2="303.8203"/><polygon fill="#181818" points="328.5,299.8203,318.5,303.8203,328.5,307.8203,324.5,303.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="285.7544">acquire lock</text><polygon fill="#181818" points="205.5,323.9531,195.5,327.9531,205.5,331.9531,201.5,327.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="199.5" x2="312.5" y1="327.9531" y2="327.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="211.5" y="322.8872">&#171;P_InitResult&#187;</text><polygon fill="#181818" points="124,353.0859,114,357.0859,124,361.0859,120,357.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="118" x2="188.5" y1="357.0859" y2="357.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="130" y="352.02">&#171;obs&#187;</text><polygon fill="#181818" points="11,382.2188,1,386.2188,11,390.2188,7,386.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="107" y1="386.2188" y2="386.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="17" y="381.1528">obs</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1099.5" x="0" y="414.7852"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="414.7852" y2="414.7852"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="417.7852" y2="417.7852"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="136" x="481.75" y="404.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="117" x="487.75" y="420.2856">final step start</text><polygon fill="#181818" points="91,454.4844,101,458.4844,91,462.4844,95,458.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="97" y1="458.4844" y2="458.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="7" y="453.4185">step</text><polygon fill="#181818" points="172.5,483.6172,182.5,487.6172,172.5,491.6172,176.5,487.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113" x2="178.5" y1="487.6172" y2="487.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="120" y="482.5513">step</text><polygon fill="#181818" points="296.5,512.75,306.5,516.75,296.5,520.75,300.5,516.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="302.5" y1="516.75" y2="516.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="201.5" y="511.6841">act(P_Action)</text><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="360.5" y1="545.8828" y2="545.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="360.5" x2="360.5" y1="545.8828" y2="558.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="319.5" x2="360.5" y1="558.8828" y2="558.8828"/><polygon fill="#181818" points="329.5,554.8828,319.5,558.8828,329.5,562.8828,325.5,558.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="325.5" y="540.8169">acquire lock</text><polygon fill="#808080" points="329.5,584.0156,319.5,588.0156,329.5,592.0156,325.5,588.0156" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="423.5,584.0156,433.5,588.0156,423.5,592.0156,427.5,588.0156" style="stroke:#808080;stroke-width:1.0;"/><line style="stroke:#808080;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="323.5" x2="429.5" y1="588.0156" y2="588.0156"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="335.5" y="582.9497">Action</text><polygon fill="#0000FF" points="423.5,613.1484,433.5,617.1484,423.5,621.1484,427.5,617.1484" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318.5" x2="429.5" y1="617.1484" y2="617.1484"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="325.5" y="612.0825">cond.notify</text><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="445.5" x2="487.5" y1="646.2813" y2="646.2813"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="487.5" x2="487.5" y1="646.2813" y2="659.2813"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="446.5" x2="487.5" y1="659.2813" y2="659.2813"/><polygon fill="#FF0000" points="456.5,655.2813,446.5,659.2813,456.5,663.2813,452.5,659.2813" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="641.2153">acquire lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="365.5" y1="698.5469" y2="698.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="365.5" x2="365.5" y1="698.5469" y2="711.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="365.5" y1="711.5469" y2="711.5469"/><polygon fill="#181818" points="334.5,707.5469,324.5,711.5469,334.5,715.5469,330.5,711.5469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn0)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="330.5" y="678.3481">cond.wait</text><text fill="#FFFF00" filter="url(#bbc6j61gvbhyn1)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="693.481">release lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="445.5" x2="487.5" y1="750.6797" y2="750.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="487.5" y1="750.6797" y2="763.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="487.5" y1="763.6797" y2="763.6797"/><polygon fill="#181818" points="450.5,759.6797,440.5,763.6797,450.5,767.6797,446.5,763.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="745.6138">acquire lock</text><polygon fill="#181818" points="627.5,783.8125,637.5,787.8125,627.5,791.8125,631.5,787.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="435.5" x2="633.5" y1="787.8125" y2="787.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="442.5" y="782.7466">&#171;Action&#187;</text><polygon fill="#181818" points="815.5,812.9453,825.5,816.9453,815.5,820.9453,819.5,816.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="821.5" y1="816.9453" y2="816.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="651.5" y="811.8794">&#171;Action&#187;</text><polygon fill="#181818" points="1035,842.0781,1045,846.0781,1035,850.0781,1039,846.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="832.5" x2="1041" y1="846.0781" y2="846.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="839.5" y="841.0122">makeAction(...)</text><polygon fill="#181818" points="660.5,871.2109,650.5,875.2109,660.5,879.2109,656.5,875.2109" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="1046.5" cy="874.4609" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;" x1="654.5" x2="1042" y1="875.2109" y2="875.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="666.5" y="870.145">battleEnd(queryID)</text><line style="stroke:#181818;stroke-width:1.0;" x1="649.5" x2="691.5" y1="919.4766" y2="919.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="691.5" y1="919.4766" y2="932.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="650.5" x2="691.5" y1="932.4766" y2="932.4766"/><polygon fill="#181818" points="660.5,928.4766,650.5,932.4766,660.5,936.4766,656.5,932.4766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="656.5" y="899.2778">store</text><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="656.5" y="914.4106">QID=queryID</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649.5" x2="691.5" y1="976.7422" y2="976.7422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="691.5" x2="691.5" y1="976.7422" y2="989.7422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="650.5" x2="691.5" y1="989.7422" y2="989.7422"/><polygon fill="#181818" points="660.5,985.7422,650.5,989.7422,660.5,993.7422,656.5,989.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="656.5" y="956.5435">read bai.action</text><text fill="#808080" font-family="Arial" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="656.5" y="971.6763">// &#171;move&#187;</text><path d="M565,1002.7422 L565,1057.7422 L723,1057.7422 L723,1012.7422 L713,1002.7422 L565,1002.7422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M713,1002.7422 L713,1012.7422 L723,1012.7422 L713,1002.7422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="571" y="1019.8091">battleEnd</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="72" x="636" y="1019.8091">after move</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="575" y="1034.9419">=&gt; call GetAction()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="571" y="1050.0747">(expecting RESET)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649.5" x2="691.5" y1="1099.4063" y2="1099.4063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="691.5" x2="691.5" y1="1099.4063" y2="1112.4063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="650.5" x2="691.5" y1="1112.4063" y2="1112.4063"/><polygon fill="#181818" points="660.5,1108.4063,650.5,1112.4063,660.5,1116.4063,656.5,1112.4063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="656.5" y="1079.2075">read bai.result</text><text fill="#808080" font-family="Arial" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="69" x="656.5" y="1094.3403">// &#171;Result&#187;</text><polygon fill="#181818" points="451.5,1152.6719,441.5,1156.6719,451.5,1160.6719,447.5,1156.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445.5" x2="638.5" y1="1156.6719" y2="1156.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="457.5" y="1136.4731">baggage.GetAction(Result*)</text><text fill="#808080" font-family="Arial" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="157" x="457.5" y="1151.606">// *with battle_end=true</text><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="482.5" y1="1185.8047" y2="1185.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="482.5" x2="482.5" y1="1185.8047" y2="1198.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.5" x2="482.5" y1="1198.8047" y2="1198.8047"/><polygon fill="#181818" points="451.5,1194.8047,441.5,1198.8047,451.5,1202.8047,447.5,1198.8047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="447.5" y="1180.7388">acquire lock</text><polygon fill="#808080" points="334.5,1223.9375,324.5,1227.9375,334.5,1231.9375,330.5,1227.9375" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="418.5,1223.9375,428.5,1227.9375,418.5,1231.9375,422.5,1227.9375" style="stroke:#808080;stroke-width:1.0;"/><line style="stroke:#808080;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="424.5" y1="1227.9375" y2="1227.9375"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="340.5" y="1222.8716">P_Result</text><polygon fill="#0000FF" points="334.5,1253.0703,324.5,1257.0703,334.5,1261.0703,330.5,1257.0703" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="429.5" y1="1257.0703" y2="1257.0703"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="340.5" y="1252.0044">cond.notify</text><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="323.5" x2="365.5" y1="1286.2031" y2="1286.2031"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="365.5" x2="365.5" y1="1286.2031" y2="1299.2031"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324.5" x2="365.5" y1="1299.2031" y2="1299.2031"/><polygon fill="#FF0000" points="334.5,1295.2031,324.5,1299.2031,334.5,1303.2031,330.5,1299.2031" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="1281.1372">acquire lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="487.5" y1="1338.4688" y2="1338.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="487.5" y1="1338.4688" y2="1351.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.5" x2="487.5" y1="1351.4688" y2="1351.4688"/><polygon fill="#181818" points="456.5,1347.4688,446.5,1351.4688,456.5,1355.4688,452.5,1351.4688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn0)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="452.5" y="1318.27">cond.wait</text><text fill="#FFFF00" filter="url(#bbc6j61gvbhyn1)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="1333.4028">release lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="323.5" x2="365.5" y1="1390.6016" y2="1390.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="365.5" x2="365.5" y1="1390.6016" y2="1403.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="365.5" y1="1403.6016" y2="1403.6016"/><polygon fill="#181818" points="328.5,1399.6016,318.5,1403.6016,328.5,1407.6016,324.5,1403.6016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="1385.5356">acquire lock</text><polygon fill="#181818" points="205.5,1423.7344,195.5,1427.7344,205.5,1431.7344,201.5,1427.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="199.5" x2="312.5" y1="1427.7344" y2="1427.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="211.5" y="1422.6685">&#171;P_result&#187;</text><polygon fill="#181818" points="124,1452.8672,114,1456.8672,124,1460.8672,120,1456.8672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="118" x2="188.5" y1="1456.8672" y2="1456.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="130" y="1451.8013">&#171;obs&#187;</text><polygon fill="#181818" points="11,1497.1328,1,1501.1328,11,1505.1328,7,1501.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="107" y1="1501.1328" y2="1501.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="17" y="1480.9341">obs</text><text fill="#808080" font-family="Arial" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="84" x="17" y="1496.0669">// terminated</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1099.5" x="0" y="1529.6992"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="1529.6992" y2="1529.6992"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="1532.6992" y2="1532.6992"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="123" x="488.25" y="1519.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="494.25" y="1535.1997">final step end</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1099.5" x="0" y="1572.832"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="1572.832" y2="1572.832"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="1575.832" y2="1575.832"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="105" x="497.25" y="1562.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="503.25" y="1578.3325">reset start</text><polygon fill="#181818" points="91,1612.5313,101,1616.5313,91,1620.5313,95,1616.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="97" y1="1616.5313" y2="1616.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="7" y="1611.4653">reset</text><polygon fill="#181818" points="172.5,1641.6641,182.5,1645.6641,172.5,1649.6641,176.5,1645.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113" x2="178.5" y1="1645.6641" y2="1645.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="120" y="1640.5981">reset</text><polygon fill="#181818" points="296.5,1670.7969,306.5,1674.7969,296.5,1678.7969,300.5,1674.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="302.5" y1="1674.7969" y2="1674.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="201.5" y="1669.731">reset()</text><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="360.5" y1="1703.9297" y2="1703.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="360.5" x2="360.5" y1="1703.9297" y2="1716.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="319.5" x2="360.5" y1="1716.9297" y2="1716.9297"/><polygon fill="#181818" points="329.5,1712.9297,319.5,1716.9297,329.5,1720.9297,325.5,1716.9297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="325.5" y="1698.8638">acquire lock</text><polygon fill="#808080" points="329.5,1742.0625,319.5,1746.0625,329.5,1750.0625,325.5,1746.0625" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="423.5,1742.0625,433.5,1746.0625,423.5,1750.0625,427.5,1746.0625" style="stroke:#808080;stroke-width:1.0;"/><line style="stroke:#808080;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="323.5" x2="429.5" y1="1746.0625" y2="1746.0625"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="335.5" y="1740.9966">Action</text><polygon fill="#0000FF" points="423.5,1771.1953,433.5,1775.1953,423.5,1779.1953,427.5,1775.1953" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318.5" x2="429.5" y1="1775.1953" y2="1775.1953"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="325.5" y="1770.1294">cond.notify</text><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="445.5" x2="487.5" y1="1804.3281" y2="1804.3281"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="487.5" x2="487.5" y1="1804.3281" y2="1817.3281"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="446.5" x2="487.5" y1="1817.3281" y2="1817.3281"/><polygon fill="#FF0000" points="456.5,1813.3281,446.5,1817.3281,456.5,1821.3281,452.5,1817.3281" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="1799.2622">acquire lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="365.5" y1="1856.5938" y2="1856.5938"/><line style="stroke:#181818;stroke-width:1.0;" x1="365.5" x2="365.5" y1="1856.5938" y2="1869.5938"/><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="365.5" y1="1869.5938" y2="1869.5938"/><polygon fill="#181818" points="334.5,1865.5938,324.5,1869.5938,334.5,1873.5938,330.5,1869.5938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn0)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="330.5" y="1836.395">cond.wait</text><text fill="#FFFF00" filter="url(#bbc6j61gvbhyn1)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="1851.5278">release lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="445.5" x2="487.5" y1="1908.7266" y2="1908.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="487.5" y1="1908.7266" y2="1921.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="487.5" y1="1921.7266" y2="1921.7266"/><polygon fill="#181818" points="450.5,1917.7266,440.5,1921.7266,450.5,1925.7266,446.5,1921.7266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="1903.6606">acquire lock</text><polygon fill="#181818" points="627.5,1956.9922,637.5,1960.9922,627.5,1964.9922,631.5,1960.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="435.5" x2="633.5" y1="1960.9922" y2="1960.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="442.5" y="1940.7935">&#171;Action&#187;</text><text fill="#808080" font-family="Arial" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="45" x="442.5" y="1955.9263">// reset</text><path d="M559,1973.9922 L559,1998.9922 L730,1998.9922 L730,1983.9922 L720,1973.9922 L559,1973.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M720,1973.9922 L720,1983.9922 L730,1983.9922 L720,1973.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="565" y="1991.0591">assert(action == reset)</text><polygon fill="#181818" points="820.5,2036.3906,830.5,2040.3906,820.5,2044.3906,824.5,2040.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="649.5" x2="826.5" y1="2040.3906" y2="2040.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="656.5" y="2020.1919">bai.reset()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="656.5" y="2035.3247">battleAI.reset()</text><line style="stroke:#A80036;stroke-width:2.0;" x1="823.5" x2="841.5" y1="2031.3906" y2="2049.3906"/><line style="stroke:#A80036;stroke-width:2.0;" x1="823.5" x2="841.5" y1="2049.3906" y2="2031.3906"/><polygon fill="#181818" points="1035,2080.6563,1045,2084.6563,1035,2088.6563,1039,2084.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="1041" y1="2084.6563" y2="2084.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="651.5" y="2064.4575">selectionMade</text><text fill="#808080" font-family="Arial" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="53" x="651.5" y="2079.5903">// replay</text><polygon fill="#181818" points="660.5,2134.7891,650.5,2138.7891,660.5,2142.7891,656.5,2138.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="654.5" x2="1046" y1="2138.7891" y2="2138.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="666.5" y="2133.7231">battleStart</text><polygon fill="#181818" points="911.5,2188.9219,921.5,2192.9219,911.5,2196.9219,915.5,2192.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="649.5" x2="917.5" y1="2192.9219" y2="2192.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="656.5" y="2187.856">&#171;new&#187;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="923.5" y="2171.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="37" x="930.5" y="2191.7842">BAI 2</text><polygon fill="#181818" points="932,2230.2188,942,2234.2188,932,2238.2188,936,2234.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="649.5" x2="938" y1="2234.2188" y2="2234.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="656.5" y="2229.1528">battleStart</text><polygon fill="#181818" points="660.5,2244.2188,650.5,2248.2188,660.5,2252.2188,656.5,2248.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654.5" x2="948" y1="2248.2188" y2="2248.2188"/><polygon fill="#181818" points="1035,2283.2188,1045,2287.2188,1035,2291.2188,1039,2287.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="1041" y1="2287.2188" y2="2287.2188"/><polygon fill="#181818" points="965,2312.3516,955,2316.3516,965,2320.3516,961,2316.3516" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="1046.5" cy="2315.6016" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;" x1="959" x2="1042" y1="2316.3516" y2="2316.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="971" y="2311.2856">activeStack</text><polygon fill="#181818" points="660.5,2341.4844,650.5,2345.4844,660.5,2349.4844,656.5,2345.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="654.5" x2="943" y1="2345.4844" y2="2345.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="666.5" y="2340.4185">getAction(Result)</text><polygon fill="#181818" points="451.5,2370.6172,441.5,2374.6172,451.5,2378.6172,447.5,2374.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445.5" x2="638.5" y1="2374.6172" y2="2374.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="457.5" y="2369.5513">baggage.GetAction(Result)</text><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="482.5" y1="2403.75" y2="2403.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="482.5" x2="482.5" y1="2403.75" y2="2416.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.5" x2="482.5" y1="2416.75" y2="2416.75"/><polygon fill="#181818" points="451.5,2412.75,441.5,2416.75,451.5,2420.75,447.5,2416.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="447.5" y="2398.6841">acquire lock</text><polygon fill="#808080" points="334.5,2441.8828,324.5,2445.8828,334.5,2449.8828,330.5,2445.8828" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="418.5,2441.8828,428.5,2445.8828,418.5,2449.8828,422.5,2445.8828" style="stroke:#808080;stroke-width:1.0;"/><line style="stroke:#808080;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="424.5" y1="2445.8828" y2="2445.8828"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="340.5" y="2440.8169">P_Result</text><polygon fill="#0000FF" points="334.5,2471.0156,324.5,2475.0156,334.5,2479.0156,330.5,2475.0156" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="429.5" y1="2475.0156" y2="2475.0156"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="340.5" y="2469.9497">cond.notify</text><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="323.5" x2="365.5" y1="2504.1484" y2="2504.1484"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="365.5" x2="365.5" y1="2504.1484" y2="2517.1484"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324.5" x2="365.5" y1="2517.1484" y2="2517.1484"/><polygon fill="#FF0000" points="334.5,2513.1484,324.5,2517.1484,334.5,2521.1484,330.5,2517.1484" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="2499.0825">acquire lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="440.5" x2="487.5" y1="2556.4141" y2="2556.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="487.5" y1="2556.4141" y2="2569.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.5" x2="487.5" y1="2569.4141" y2="2569.4141"/><polygon fill="#181818" points="456.5,2565.4141,446.5,2569.4141,456.5,2573.4141,452.5,2569.4141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn0)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="452.5" y="2536.2153">cond.wait</text><text fill="#FFFF00" filter="url(#bbc6j61gvbhyn1)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="452.5" y="2551.3481">release lock</text><line style="stroke:#181818;stroke-width:1.0;" x1="323.5" x2="365.5" y1="2608.5469" y2="2608.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="365.5" x2="365.5" y1="2608.5469" y2="2621.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="318.5" x2="365.5" y1="2621.5469" y2="2621.5469"/><polygon fill="#181818" points="328.5,2617.5469,318.5,2621.5469,328.5,2625.5469,324.5,2621.5469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" filter="url(#bbc6j61gvbhyn2)" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="330.5" y="2603.481">acquire lock</text><polygon fill="#181818" points="205.5,2641.6797,195.5,2645.6797,205.5,2649.6797,201.5,2645.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="199.5" x2="312.5" y1="2645.6797" y2="2645.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="211.5" y="2640.6138">&#171;P_result&#187;</text><polygon fill="#181818" points="124,2670.8125,114,2674.8125,124,2678.8125,120,2674.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="118" x2="188.5" y1="2674.8125" y2="2674.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="130" y="2669.7466">&#171;obs&#187;</text><polygon fill="#181818" points="11,2699.9453,1,2703.9453,11,2707.9453,7,2703.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="107" y1="2703.9453" y2="2703.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="17" y="2698.8794">obs</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1099.5" x="0" y="2732.5117"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="2732.5117" y2="2732.5117"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1099.5" y1="2735.5117" y2="2735.5117"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="92" x="503.75" y="2721.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="73" x="509.75" y="2738.0122">reset end</text><!--SRC=[pLTPRziu47xNhvYgAIh5iPrutm9RWDEcXHzQT7liIrCOb4JRH6HAfMWd1eh-zWw7rEMZ1x0Bx4ii3R-P-UQaeeNEEFZ_l7WpwryD_XgC8Ccbv8dELNyx0iLBhY7WCkt7J2Cqz3sll1UoO8gjeUHVDrmc_2P_lCbLojMBFCiLF7trwfNdFJcJSLd01FpnfzxbvVGoGjtdy92hUwRoZKn1hpWiMABnWU4V_gY1PM8frrngI9Y4N6OxY3bg6HhBB8zPbkq6yAaKSWchic093sI8DFL6oHBUmZgNEObJLB84aXLJfVTaiP695hc4CwTtbd6vrAlG0tXoXe4QfZwz27nqf-RzOIKmHoYDu1BV6pZzzAmRTq2g0lfmPJGnRwHidYr7JCOYb_gwuHdvFMEdvu-7vWIJPDGgjbwRUChB93ZJZpeyD3XLWcNHE345k7wjs2uQYsWu1BIE2iQwYCP3Eev-xIdBa_ivIxxE5qnaSrEPeEipPidzzOvdMVvGELKO2wfiXE9Wz1jl1dpehL0vXhz1TDTTS2Rpb1jtz03zo3rSd-I5FIIsJ7C7V8fKo5ljueIx5Bac-YSEEt5sWwEWVijBXinasyj9_odlHl8pypYdwVo1YL_JDuKnw851E-9tqbMjgY4XuyoSAPvnLdRYh6hvvxaccZBNOh4BpjwYnlG2wFU669C4-ltFJ-Dimxz4xinmj_oCsBAtHbfC7DGe8ucsxl4-ETr_HB9y43fP7IFvYnXQbQ33ReshwZlyoP5JlCXeBU6uelcICvMiBgoysb64IEj5PHVJirAh8Y-xYY54atfRuQaW9vCJu7ghrGwQvnxgR69KSpgNg5OP3CtsCqXd007aeurllFV8E-xLeF8RdbYIRU_6oazAL-9svrkcx1HSNTYs75r0jIUj7CQcJPQu5x-uyHWrFMR4KRS0_ftqB_ogsUff8QGVratuExmg7hKaAGhaYNzhbbqppu5jSv6MK6uAhd0CyQx3xiE1518l727fuam5GpRhTWjLIG-FfD9LW-A2Pv8_66D1kEyxpX_XuvM7rxiMYIWONiJ-S7WhjyEX3wm4BhVxXyMk_cHme6AtZy5WMw0xQQ-oZrSXuKr2FAG1wDrH6FscXL5jOK_3VD7SoU5mccvn_4n9Pb9pXPyR78BfT1Owheo9uuetzBtJrhffjE9zBSHFPp1gZWy2C7RXHIQGZKDjaxL8ID04xzNhbP9Ils5AwsTJ0wzHXXmtFdg4NWzRcb3yWyQjtRLbDxN18PnLy2NNKofzy9wNcmnRXrc4oQY5n6ovP4i-U7q0RMq-0qV1_jOpZaEFtFVHQB737pDtutVpcHJQ6eeYZmuY4ra5oECIvPznR1ifoZnlCe65a2o3KlC2_s2MOJBnlCzEdpYRCu_qo6aZCuuYcuygNS6xkOshpT_Tp9P_Cxeri7rZDFDCeOue54gZ3SKgOJHMPekrVnQxirPT2R9czzobVJ0OX0U5hojflyzlPHhWDxdQpLxMfJG_tLrNuX3nuyljxzdBYJDGRxcQkBMaE4jD30D6lAfPzCVZTRxb4Uv7ZzOLlYYQhveQpETiWVC41ZYVUp31Mk0dFJIz5Ne1Vommz-OB__tjXzkF8Ks7iNYIYA8-QX6f6il_Wtx-VXxM5hwVOsbNBgTpz3_HQiFzunqoQdV8ktbtEfeU6L6Fd1e7zSUZK9F5XAvn8ZHFaU3UV9ZKuNIWqFuhTs9Uw71_OAnmVs986lpNir85Hzumgav3cRajIwvqO3iGgl3gQiS4SgrXwDv9Mylfh99uQ5-hV4Uxl6wi_V4hyLkOVBnXAMz8uPMw2xrltxwrn_5m6Z-OR1EiuJM2ytCA5U_WQYUuWmDDahOprDWwv7hiJXWTNWhMvhzs1Vn_vi5hkjns_Gy0]--></g></svg>